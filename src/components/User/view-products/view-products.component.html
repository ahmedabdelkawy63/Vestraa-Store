<app-header></app-header>
<div class="my-5 container">
  @if (showPopup) {
  <div class="cardPop">
    <svg class="wave" viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M0,256L11.4,240C22.9,224,46,192,69,192C91.4,192,114,224,137,234.7C160,245,183,235,206,213.3C228.6,192,251,160,274,149.3C297.1,139,320,149,343,181.3C365.7,213,389,267,411,282.7C434.3,299,457,277,480,250.7C502.9,224,526,192,549,181.3C571.4,171,594,181,617,208C640,235,663,277,686,256C708.6,235,731,149,754,122.7C777.1,96,800,128,823,165.3C845.7,203,869,245,891,224C914.3,203,937,117,960,112C982.9,107,1006,181,1029,197.3C1051.4,213,1074,171,1097,144C1120,117,1143,107,1166,133.3C1188.6,160,1211,224,1234,218.7C1257.1,213,1280,139,1303,133.3C1325.7,128,1349,192,1371,192C1394.3,192,1417,128,1429,96L1440,64L1440,320L1428.6,320C1417.1,320,1394,320,1371,320C1348.6,320,1326,320,1303,320C1280,320,1257,320,1234,320C1211.4,320,1189,320,1166,320C1142.9,320,1120,320,1097,320C1074.3,320,1051,320,1029,320C1005.7,320,983,320,960,320C937.1,320,914,320,891,320C868.6,320,846,320,823,320C800,320,777,320,754,320C731.4,320,709,320,686,320C662.9,320,640,320,617,320C594.3,320,571,320,549,320C525.7,320,503,320,480,320C457.1,320,434,320,411,320C388.6,320,366,320,343,320C320,320,297,320,274,320C251.4,320,229,320,206,320C182.9,320,160,320,137,320C114.3,320,91,320,69,320C45.7,320,23,320,11,320L0,320Z"
        fill-opacity="1"
      ></path>
    </svg>

    <div class="icon-container">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 512"
        stroke-width="0"
        fill="currentColor"
        stroke="currentColor"
        class="icon"
      >
        <path
          d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"
        ></path>
      </svg>
    </div>
    <div class="message-text-container">
      <p class="message-text">Added to Cart</p>
      <p class="sub-text">Everything seems great</p>
    </div>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 15 15"
      stroke-width="0"
      fill="none"
      stroke="currentColor"
      class="cross-icon"
    >
      <path
        fill="currentColor"
        d="M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z"
        clip-rule="evenodd"
        fill-rule="evenodd"
      ></path>
    </svg>
  </div>
  }

  <div class="firstPart d-flex ms-5 justify-content-evenly">
    <div class="inputBox_container ms-2">
      <svg
        class="search_icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 48 48"
        alt="search icon"
      >
        <path
          d="M46.599 46.599a4.498 4.498 0 0 1-6.363 0l-7.941-7.941C29.028 40.749 25.167 42 21 42 9.402 42 0 32.598 0 21S9.402 0 21 0s21 9.402 21 21c0 4.167-1.251 8.028-3.342 11.295l7.941 7.941a4.498 4.498 0 0 1 0 6.363zM21 6C12.717 6 6 12.714 6 21s6.717 15 15 15c8.286 0 15-6.714 15-15S29.286 6 21 6z"
        ></path>
      </svg>
      <input
        #inp
        class="inputBox"
        id="inputBox"
        type="search"
        placeholder="Search For Products"
        (input)="handleSearch(inp.value)"
      />
    </div>
    <div class="ms-5 mydict w-50">
      <div>
        <label>
          <input
            value="Women's Fashion"
            #cat1
            type="radio"
            name="radio"
            (change)="filterByCategory(cat1.value)"
          />
          <span>Women's Fashion</span>
        </label>

        <label>
          <input
            #cat2
            value="Men's Fashion"
            type="radio"
            name="radio"
            (change)="filterByCategory(cat2.value)"
          />
          <span>Men's Fashion</span>
        </label>

        <label>
          <input
            #cat3
            value="Electronics"
            type="radio"
            name="radio"
            (change)="filterByCategory(cat3.value)"
          />
          <span>Electronics</span>
        </label>

        <label>
          <input
            value="All"
            type="radio"
            name="radio"
            checked
            (change)="showAllProducts()"
          />
          <span>All</span>
        </label>
      </div>
    </div>
  </div>
  <app-loader *ngIf="isLoading"></app-loader>

  <div *ngIf="!isLoading">
    <section id="products" class="py-5 my-5">
      <div class="container">
        <div class="row justify-content-center g-4">
          @for (prd of filteredProducts.reverse(); track prd.id) {

          <div
            routerLinkActive="router-link-active"
            class="col-sm-6 col-md-4 col-lg-3 col-xl-2 my-4 mx-3"
          >
            <div class="card" style="position: relative">
              <div
                class="heart-container"
                title="Like"
                style="position: absolute; top: 10px; right: 10px; z-index: 10"
              >
                <input
                  (click)="addToWishlist(prd)"
                  type="checkbox"
                  class="checkbox"
                  id="Give-It-An-Id"
                />
                <div class="svg-container">
                  <svg
                    viewBox="0 0 24 24"
                    class="svg-outline"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Zm-3.585,18.4a2.973,2.973,0,0,1-3.83,0C4.947,16.006,2,11.87,2,8.967a4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,11,8.967a1,1,0,0,0,2,0,4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,22,8.967C22,11.87,19.053,16.006,13.915,20.313Z"
                    ></path>
                  </svg>
                  <svg
                    viewBox="0 0 24 24"
                    class="svg-filled"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Z"
                    ></path>
                  </svg>
                  <svg
                    class="svg-celebrate"
                    width="100"
                    height="100"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <polygon points="10,10 20,20"></polygon>
                    <polygon points="10,50 20,50"></polygon>
                    <polygon points="20,80 30,70"></polygon>
                    <polygon points="90,10 80,20"></polygon>
                    <polygon points="90,50 80,50"></polygon>
                    <polygon points="80,80 70,70"></polygon>
                  </svg>
                </div>
              </div>

              <div (click)="goToDetails(prd.id)" class="card-img">
                <img class="img" [src]="prd.imageCover" />
              </div>
              <div (click)="goToDetails(prd.id)" class="card-title">
                {{ prd.title | desPipe : 2 }}
              </div>
              <div (click)="goToDetails(prd.id)" class="card-subtitle">
                {{ prd.description | desPipe : 5 }}
              </div>
              <hr class="card-divider" />
              <div class="card-footer">
                <div class="card-price"><span>$</span> {{ prd.price }}</div>
                <button (click)="addToCart(prd)" class="card-btn">
                  <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="m397.78 316h-205.13a15 15 0 0 1 -14.65-11.67l-34.54-150.48a15 15 0 0 1 14.62-18.36h274.27a15 15 0 0 1 14.65 18.36l-34.6 150.48a15 15 0 0 1 -14.62 11.67zm-193.19-30h181.25l27.67-120.48h-236.6z"
                    ></path>
                    <path
                      d="m222 450a57.48 57.48 0 1 1 57.48-57.48 57.54 57.54 0 0 1 -57.48 57.48zm0-84.95a27.48 27.48 0 1 0 27.48 27.47 27.5 27.5 0 0 0 -27.48-27.47z"
                    ></path>
                    <path
                      d="m368.42 450a57.48 57.48 0 1 1 57.48-57.48 57.54 57.54 0 0 1 -57.48 57.48zm0-84.95a27.48 27.48 0 1 0 27.48 27.47 27.5 27.5 0 0 0 -27.48-27.47z"
                    ></path>
                    <path
                      d="m158.08 165.49a15 15 0 0 1 -14.23-10.26l-25.71-77.23h-47.44a15 15 0 1 1 0-30h58.3a15 15 0 0 1 14.23 10.26l29.13 87.49a15 15 0 0 1 -14.23 19.74z"
                    ></path>
                  </svg>
                </button>
              </div>
            </div>
          </div>
          }
        </div>
      </div>
    </section>
  </div>
</div>
