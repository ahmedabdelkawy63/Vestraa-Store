<div class="d-flex justify-content-center align-items-center min-vh-100">
  <div class="col-lg-6 form-container">
    <h2 class="text-center text-primary mb-4">Add Product</h2>
    <form [formGroup]="addProductForm" (ngSubmit)="submitProduct()">
      <div class="mb-3">
        <label for="product-id" class="form-label">Product ID</label>
        <input
          type="text"
          class="form-control"
          id="product-id"
          formControlName="id"
        />
        <div
          class="text-danger mt-1"
          *ngIf="
            addProductForm.controls['id'].invalid &&
            addProductForm.controls['id'].touched
          "
        >
          <small *ngIf="addProductForm.controls['id'].errors?.['required']"
            >Product ID is required.</small
          >
          <small *ngIf="addProductForm.controls['id'].errors?.['minlength']"
            >Product ID must be at least 3 characters.</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="product-category" class="form-label">Category</label>
        <input
          type="text"
          class="form-control"
          id="product-category"
          formControlName="category"
        />
        <div
          class="text-danger mt-1"
          *ngIf="
            addProductForm.controls['category'].invalid &&
            addProductForm.controls['category'].touched
          "
        >
          <small
            *ngIf="addProductForm.controls['category'].errors?.['required']"
            >Category is required.</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="product-name" class="form-label">Product Name</label>
        <input
          type="text"
          class="form-control"
          id="product-name"
          formControlName="title"
        />
        <div
          class="text-danger mt-1"
          *ngIf="
            addProductForm.controls['title'].invalid &&
            addProductForm.controls['title'].touched
          "
        >
          <small *ngIf="addProductForm.controls['title'].errors?.['required']"
            >Product name is required.</small
          >
          <small *ngIf="addProductForm.controls['title'].errors?.['minlength']"
            >Product name must be at least 3 characters.</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="price" class="form-label">Price</label>
        <input
          type="number"
          class="form-control"
          id="price"
          formControlName="price"
        />
        <div
          class="text-danger mt-1"
          *ngIf="
            addProductForm.controls['price'].invalid &&
            addProductForm.controls['price'].touched
          "
        >
          <small *ngIf="addProductForm.controls['price'].errors?.['required']"
            >Price is required.</small
          >
          <small *ngIf="addProductForm.controls['price'].errors?.['pattern']"
            >Price must be a valid number (e.g. 10.99).</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="quantity" class="form-label">Quantity</label>
        <input
          type="number"
          class="form-control"
          id="quantity"
          formControlName="quantity"
        />
        <div
          class="text-danger mt-1"
          *ngIf="
            addProductForm.controls['quantity'].invalid &&
            addProductForm.controls['quantity'].touched
          "
        >
          <small
            *ngIf="addProductForm.controls['quantity'].errors?.['required']"
            >Quantity is required.</small
          >
          <small *ngIf="addProductForm.controls['quantity'].errors?.['min']"
            >Quantity must be at least 1.</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea
          class="form-control"
          id="description"
          formControlName="description"
        ></textarea>
        <div
          class="text-danger mt-1"
          *ngIf="
            addProductForm.controls['description'].invalid &&
            addProductForm.controls['description'].touched
          "
        >
          <small
            *ngIf="addProductForm.controls['description'].errors?.['required']"
            >Description is required.</small
          >
          <small
            *ngIf="addProductForm.controls['description'].errors?.['minlength']"
            >Description must be at least 10 characters.</small
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="image" class="form-label">Image</label>
        <input
          (change)="onFileSelected($event)"
          type="file"
          class="form-control"
          id="image"
          formControlName="imageCover"
        />
        <div
          class="text-danger mt-1"
          *ngIf="
            addProductForm.controls['imageCover'].invalid &&
            addProductForm.controls['imageCover'].touched
          "
        >
          <small
            *ngIf="addProductForm.controls['imageCover'].errors?.['required']"
            >Image is required.</small
          >
        </div>
      </div>

      <div class="d-flex justify-content-between">
        <button
          type="submit"
          class="btn btn-success"
          [disabled]="addProductForm.invalid"
        >
          Add
        </button>
        <button
          [routerLink]="['/dashboard/products']"
          routerLinkActive="router-link-active"
          type="button"
          class="btn btn-secondary"
        >
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
